{"version":3,"file":"static/webpack/static/development/pages/index.js.9545ce011f7b0957f6ae.hot-update.js","sources":["webpack:///./components/SiteFetch.js"],"sourcesContent":["import React, { useState } from \"react\"\nimport extractSkins from \"../utils/extract-skins\"\nimport sortPalette from \"../utils/sortPalette\"\nimport LoadingBars from \"./LoadingBars\"\n\nconst SiteFetch = ({ onSubmit, ...props }) => {\n  const [url, setUrl] = useState(\"https://cloudflare.com\")\n  const [isLoading, setLoading] = useState(false)\n\n  const handleChange = e => setUrl(e.target.value)\n  const handleSubmit = async e => {\n    e.preventDefault()\n    setLoading(true)\n    const fullUrl = `https://api.cssstats.com/stats/?url=${url}`\n\n    const res = await fetch(fullUrl)\n\n    if (res.ok) {\n      const data = await res.json()\n      const cssPalette = extractSkins(data).colors\n      const newPalette = cssPalette.filter(str => {\n        if (str.includes(\"rgba\")) {\n          return false\n        } else if (str.includes(\"hsla\")) {\n          return false\n        } else if (str.includes(\"inherit\")) {\n          return false\n        } else if (str.includes(\"currentColor\")) {\n          return false\n        } else if (str.includes(\"transparent\")) {\n          return false\n        } else if (str.includes(\"none\")) {\n          return false\n        } else if (str.includes(\"var(\")) {\n          return false\n        } else {\n          return str\n        }\n      })\n\n      onSubmit(sortPalette(newPalette))\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <Div {...props}>\n      <Form\n        onSubmit={handleSubmit}\n        display=\"flex\"\n        width={1}\n        style={{ overflow: \"hidden\" }}\n        borderRadius={2}\n        mb={0}\n      >\n        <Input\n          fontSize={2}\n          fontWeight={700}\n          py={3}\n          px={3}\n          type=\"url\"\n          border=\"none\"\n          bg='gray.8'\n          borderRadius={0}\n          value={url}\n          onChange={handleChange}\n          style={{ flexGrow: 1 }}\n        />\n        <Button\n          width=\"auto\"\n          py={3}\n          px={4}\n          fontSize={2}\n          bg=\"gray.3\"\n          color=\"white\"\n          fontWeight={700}\n          border=\"none\"\n          style={{ cursor: \"pointer\" }}\n          disabled={isLoading}\n        >\n          Go\n        </Button>\n      </Form>\n      {isLoading && (\n        <Flex width={1}>\n          <LoadingBars />\n          <P ml={2}>Fetching Palette</P>\n        </Flex>\n      )}\n    </Div>\n  )\n}\n\nexport default SiteFetch\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AADA;AAKA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AA/BA;AAiCA;AACA;AAlCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAmCA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;;A","sourceRoot":""}